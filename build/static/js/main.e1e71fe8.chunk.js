(this["webpackJsonpeditor-frontend"]=this["webpackJsonpeditor-frontend"]||[]).push([[0],{76:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var o,c,r,a,i,s=n(2),u=n.n(s),d=n(35),l=n.n(d),j=n(5),p=n.n(j),b=n(6),h=n(7),m=n(9),f=n(8),O=n(36),x=n(37),v=n(38),g=n.n(v),C=n(0),E=function(t){return Object(C.jsx)("div",{className:"toolbar",children:t.children})},k=n(4),T=n.n(k),y=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(b.a)(this,n);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={documents:[]},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;T.a.get("https://jsramverk-editor-joki20.azurewebsites.net/list").then((function(e){var n=e.data.data;t.setState({documents:n})}))}},{key:"render",value:function(){return Object(C.jsxs)("div",{children:[Object(C.jsxs)("form",{className:"documentChoices",children:[Object(C.jsxs)("select",{onChange:this.props.renderContentAfterChoice,children:[Object(C.jsx)("option",{defaultValue:!0,disabled:!0,children:"--- Create or edit document ---"}),Object(C.jsx)("option",{text:"",children:"Create new"}),Object(C.jsx)("option",{disabled:!0}),this.state.documents.map((function(t){return Object(C.jsx)("option",{name:t._id,title:t.title,text:t.content,children:t.title},t._id)}))]}),Object(C.jsx)("input",{type:"hidden"}),Object(C.jsx)("input",{type:"submit",onClick:this.props.createOrSaveDocument,className:"btn save",value:"Spara"})]}),Object(C.jsx)("div",{className:"status"})]})}}]),n}(u.a.Component),D=y,w=1;function N(t){w=t.target.options.selectedIndex,c=document.getElementsByTagName("option")[w],r=c.getAttribute("name"),a=c.innerText,i=c.getAttribute("text"),console.log("F\xd6RE TEXT"),console.log(i),console.log("EFTER TEXT"),o.setData(i),document.getElementsByClassName("status")[0].innerHTML=""}function A(t){return M.apply(this,arguments)}function M(){return(M=Object(O.a)(p.a.mark((function t(e){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),i=o.getData(),1!==w){t.next=11;break}return console.log("NEW DOCUMENT CREATED"),a=i.substring(3,15),t.next=7,T.a.post("https://jsramverk-editor-joki20.azurewebsites.net/create",{title:a,content:i}).then((function(t){return t.status})).catch((function(t){return console.warn(t)}));case 7:console.log("NEW DOCUMENT CREATED"),setTimeout((function(){document.location.reload()}),2e3),t.next=14;break;case 11:return c.setAttribute("text",i),t.next=14,T.a.post("https://jsramverk-editor-joki20.azurewebsites.net/update/".concat(r,"/"),{title:a,content:i}).then((function(t){return t.status})).catch((function(t){return console.warn(t)}));case 14:window.location.reload(),console.log("DOCUMENT UPDATED"),setTimeout((function(){document.location.reload()}),5e3);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var R=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(E,{children:Object(C.jsx)(D,{editorComponent:o,renderContentAfterChoice:N,createOrSaveDocument:A})}),Object(C.jsx)("h2",{children:"Using CKEditor 5 build in React"}),Object(C.jsx)(x.CKEditor,{editor:g.a,id:"ckeditor",data:"<p>Make a choice in the menu!</p>",onReady:function(t){console.log("Editor is ready to use!",t),function(t){o=t}(t)},onChange:function(t,e){e.getData()}})]})}}]),n}(s.Component),U=R;n(76);l.a.render(Object(C.jsx)(U,{}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.e1e71fe8.chunk.js.map