(this["webpackJsonpeditor-frontend"]=this["webpackJsonpeditor-frontend"]||[]).push([[0],{227:function(t,e,n){},254:function(t,e,n){},255:function(t,e,n){"use strict";n.r(e);var s=n(2),a=n.n(s),r=n(46),c=n.n(r),i=n(10),o=n.n(i),u=n(32),l=n(92),d=n(93),h=n(97),p=n(96),f=n(94),j=n.n(f),m=(n(207),n(0)),b=function(t){return Object(m.jsxs)("div",{className:"Toolbar",children:[Object(m.jsx)("button",{onClick:t.saveContent,children:"SAVE"}),Object(m.jsx)("div",{className:"clickedStatus",children:t.messageStatus})]})},v=function(t){return console.log(t),Object(m.jsx)("div",{children:Object(m.jsx)("ul",{className:"ListAll",children:t.listDocs.map((function(e){return Object(m.jsx)("li",{onClick:t.clickTitle,name:e._id,children:e.title},e._id)}))})})},g=function(t){return Object(m.jsxs)("div",{className:"Title",children:[Object(m.jsx)("h2",{children:"Title"}),Object(m.jsx)("input",{className:"titleInput","aria-label":"inputLable"})]})},k=n(33),C=n.n(k),O=(n(227),n(228),n(95)),x=n.n(O)()("https://jsramverk-editor-joki20.azurewebsites.net"),S=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).getDatabase=function(){C.a.get("https://jsramverk-editor-joki20.azurewebsites.net/list").then((function(t){s.setState({listDocuments:t.data.data})}))},s.postDatabase=function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.post("https://jsramverk-editor-joki20.azurewebsites.net/create",{title:e,content:s.state.currentContent}).then((function(t){console.log(t)})).then((function(t){console.log(t)}));case 2:s.getDatabase();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s.updateDatabase=function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,C.a.post("https://jsramverk-editor-joki20.azurewebsites.net/update/".concat(e),{title:s.state.currentTitle,content:s.state.currentContent}).then((function(t){return t.status})).catch((function(t){return console.warn(t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s.getCurrentInput=function(t){s.setState({currentContent:t});var e=document.getElementsByClassName("titleInput")[0].value,n=null;s.state.listDocuments.forEach((function(t){t.title===e&&(n=t._id)}));var a={_id:n,html:s.state.currentContent};x.emit("create",a),x.on("doc",(function(t){s.setState({currentContent:t.html})}))},s.getCurrentTitle=function(t){s.setState({currentTitle:t})},s.clickTitle=function(t){var e=t.target.innerHTML;s.state.listDocuments.forEach((function(t){t.title===e&&(document.getElementsByClassName("titleInput")[0].value=t.title,s.setState({currentTitle:t.title}),s.setState({currentContent:t.content}))}))},s.save=function(){var t="no";console.log("SAVING");var e=document.getElementsByClassName("titleInput")[0].value,n=null;s.state.listDocuments.forEach((function(a){a.title===e&&(s.setState({messageStatus:"Title content updated"}),t="yes",n=a._id,s.updateDatabase(n))})),"no"===t&&(s.setState({messageStatus:"New entry created"}),s.postDatabase(e))},s.state={listDocuments:[],currentTitle:"",currentContent:"",messageStatus:""},s}return Object(d.a)(n,[{key:"socketUpdateContent",value:function(t){this.setState({currentContent:t})}},{key:"componentDidMount",value:function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDatabase();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(b,{saveContent:this.save,messageStatus:this.state.messageStatus}),Object(m.jsx)(v,{listDocs:this.state.listDocuments,clickTitle:this.clickTitle}),Object(m.jsx)(g,{onChange:this.getCurrentTitle}),Object(m.jsx)(j.a,{className:"Quill",theme:"snow",value:this.state.currentContent,onChange:this.getCurrentInput})]})}}]),n}(a.a.Component),D=S;n(254);c.a.render(Object(m.jsx)(D,{}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.1b11da70.chunk.js.map